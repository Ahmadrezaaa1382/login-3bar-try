<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Login Modal</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light d-flex justify-content-center align-items-center vh-100">

  <!-- دکمه باز کردن مودال -->
  <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#loginModal">
    ورود به حساب کاربری
  </button>

  <!-- Modal -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content p-3">
        <div class="modal-header">
          <h5 class="modal-title">فرم ورود</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center">
          <img src="https://cdn-icons-png.flaticon.com/512/219/219983.png" class="rounded-circle mb-3" width="100">
          <form id="form">
            <div class="mb-3">
              <input id="user" type="text" class="form-control" placeholder="Username" required>
            </div>
            <div class="mb-3">
              <input id="pass" type="password" class="form-control" placeholder="Password" required>
            </div>
            <div id="msg" class="text-danger small mb-2" style="display:none;"></div>
            <button type="submit" class="btn btn-success w-100">Login</button>
            <div class="form-check my-2 text-start">
              <input class="form-check-input" type="checkbox" id="remember">
              <label class="form-check-label" for="remember">Remember me</label>
            </div>
          </form>
        </div>
        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-danger" id="cancel">Cancel</button>
          <a href="#">Forgot password?</a>
        </div>
      </div>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const userInput = document.getElementById("user"),
          passInput = document.getElementById("pass"),
          msg = document.getElementById("msg"),
          form = document.getElementById("form"),
          cancelBtn = document.getElementById("cancel");

    let tries = 0, maxTries = 3;

    form.onsubmit = e => {
      e.preventDefault();
      if(userInput.value==="admin" && passInput.value==="123456"){
        showMessage("Login success","text-success");
        tries=0;
      } else {
        tries++;
        if(tries>=maxTries){
          showMessage("Account locked!","text-danger");
          userInput.disabled=passInput.disabled=true;
        } else {
          showMessage(`Wrong! attempts left: ${maxTries-tries}`,"text-danger");
        }
      }
    };

    cancelBtn.onclick = () => {
      userInput.value = passInput.value = "";
      msg.style.display="none";
    };

    function showMessage(text, cls){
      msg.style.display="block";
      msg.className = cls;
      msg.textContent=text;
    }
  </script>

</body>
</html>
